From 1bd31b763a11f15c89b1e2ae16788867ff62a84e Mon Sep 17 00:00:00 2001
From: "Bryn M. Reeves" <bmr@redhat.com>
Date: Thu, 27 Mar 2014 11:40:40 +0000
Subject: [PATCH 47/72] Replace self.policy().pkg_by_name() us in Logs plugin

Use self.is_installed() for simple package presence tests.

Signed-off-by: Bryn M. Reeves <bmr@redhat.com>
---
 sos/plugins/logs.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sos/plugins/logs.py b/sos/plugins/logs.py
index 1cd767c..318377d 100644
--- a/sos/plugins/logs.py
+++ b/sos/plugins/logs.py
@@ -40,7 +40,7 @@ class Logs(Plugin):
         if self.get_option('all_logs'):
             logs = self.do_regex_find_all("^\S+\s+(-?\/.*$)\s+",
                                 "/etc/syslog.conf")
-            if self.policy().pkg_by_name("rsyslog") \
+            if self.is_installed("rsyslog") \
               or os.path.exists("/etc/rsyslog.conf"):
                 logs += self.do_regex_find_all("^\S+\s+(-?\/.*$)\s+", "/etc/rsyslog.conf")
             for i in logs:
-- 
1.9.3

